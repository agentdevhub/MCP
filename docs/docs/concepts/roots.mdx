---
title: "根路径"
description: "理解 MCP 中的根路径概念"
---

根路径（Roots）是 MCP 中定义服务器操作边界的概念。它为客户提供了一种向服务器声明相关资源及其位置的机制。

## 什么是根路径？

根路径是客户端建议服务器应关注的统一资源标识符（URI）。当客户端连接服务器时，会声明服务器应处理的根路径集合。虽然主要应用于文件系统路径，但根路径可以是任何有效的 URI（包括 HTTP 网址）。

例如，根路径可以是：

```
file:///home/user/projects/myapp
https://api.example.com/v1
```

## 为何使用根路径？

根路径具有以下核心价值：

1. **引导作用**：向服务器指明相关资源及其位置
2. **清晰界定**：明确标识工作空间包含的资源范围
3. **多任务管理**：通过多个根路径同时处理不同资源

## 工作原理

支持根路径的客户端会：

1. 在连接时声明 `roots` 能力
2. 向服务器提供建议的根路径列表
3. 当根路径变更时通知服务器（如支持该功能）

虽然根路径属于参考性声明而非强制约束，但服务器应当：

1. 遵循提供的根路径范围
2. 使用根路径 URI 定位和访问资源
3. 优先处理根路径边界内的操作

## 典型应用场景

根路径常用于定义：

- 项目目录
- 代码仓库位置
- API 端点
- 配置文件位置
- 资源边界

## 最佳实践

使用根路径时建议：

1. 仅声明必要的资源路径
2. 采用清晰易懂的命名规范
3. 持续监控根路径可访问性
4. 优雅处理根路径变更情况

## 示例

以下是 MCP 客户端声明根路径的典型配置：

```json
{
  "roots": [
    {
      "uri": "file:///home/user/projects/frontend",
      "name": "Frontend Repository"
    },
    {
      "uri": "https://api.example.com/v1",
      "name": "API Endpoint"
    }
  ]
}
```

该配置建议服务器同时关注本地代码仓库和 API 端点，并保持两者的逻辑隔离。