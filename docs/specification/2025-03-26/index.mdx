---
title: 技术规范
---

[模型上下文协议](https://modelcontextprotocol.io) (MCP) 是一项开放协议，旨在实现大模型应用与外部数据源及工具的无缝集成。无论您正在构建AI驱动的集成开发环境、增强聊天界面功能，还是创建定制化AI工作流，MCP都提供了标准化方法来连接大模型与其所需的上下文环境。

本规范基于[schema.ts](https://github.com/modelcontextprotocol/specification/blob/main/schema/2025-03-26/schema.ts)中的TypeScript模式定义，确立了权威的协议要求。

如需获取实施指南和示例，请访问[modelcontextprotocol.io](https://modelcontextprotocol.io)。

本文档中出现的"必须"、"禁止"、"必需"、"应"、"不应"、"建议"、"不建议"、"可以"和"可选"等关键词（原文全大写形式）应严格遵循[BCP 14](https://datatracker.ietf.org/doc/html/bcp14)[[RFC2119](https://datatracker.ietf.org/doc/html/rfc2119)][[RFC8174](https://datatracker.ietf.org/doc/html/rfc8174)]标准进行解释。

## 概述

MCP为应用程序提供标准化方法来实现：

- 与大模型共享上下文信息
- 向AI系统开放工具和功能
- 构建可组合的集成与工作流

该协议采用[JSON-RPC](https://www.jsonrpc.org/) 2.0消息格式建立以下组件间的通信：

- **主机**：发起连接的大模型应用
- **客户端**：主机应用内部的连接器
- **服务端**：提供上下文和功能的服务

MCP部分灵感来源于[语言服务器协议](https://microsoft.github.io/language-server-protocol/)，后者为整个开发生态系统添加编程语言支持制定了标准。类似地，MCP为AI应用生态系统中的上下文集成和工具接入制定了统一标准。

## 核心细节

### 基础协议

- [JSON-RPC](https://www.jsonrpc.org/)消息格式
- 有状态连接
- 服务端与客户端能力协商

### 功能特性

服务端可向客户端提供以下功能：

- **资源**：供用户或AI模型使用的上下文数据
- **提示词**：面向用户的模板化消息和工作流
- **工具**：供AI模型执行的函数

客户端可向服务端提供以下功能：

- **采样**：服务端发起的自主行为与递归式大模型交互

### 辅助功能

- 配置管理
- 进度跟踪
- 操作取消
- 错误报告
- 日志记录

## 安全与信任保障

模型上下文协议通过任意数据访问和代码执行路径实现强大功能，这也带来了所有实施者必须审慎处理的重要安全与信任问题。

### 核心原则

1. **用户授权与控制**

   - 必须获得用户对数据访问和操作的明确授权与理解
   - 用户必须始终掌握数据共享和操作执行的最终控制权
   - 实施者应提供清晰的用户界面用于审查和授权活动

2. **数据隐私**

   - 主机在向服务端开放用户数据前必须获得明确授权
   - 未经用户同意，主机不得将资源数据传输至其他位置
   - 应采用适当的访问控制机制保护用户数据

3. **工具安全性**

   - 工具代表任意代码执行，必须谨慎对待
     - 特别需要注意的是，除非来自可信服务端，否则工具行为描述（如注解）应视为不可信
   - 主机在调用任何工具前必须获得用户明确授权
   - 用户应在授权使用前了解每个工具的具体功能

4. **大模型采样控制**
   - 必须获得用户对采样请求的明确批准
   - 用户应能控制：
     - 是否执行采样
     - 实际发送的提示词内容
     - 服务端可见的结果范围
   - 协议特意限制了服务端对提示词的可见性

### 实施指南

虽然MCP无法在协议层面强制实施这些安全原则，但实施者**应当**：

1. 在应用中构建完善的授权流程
2. 提供清晰的安全影响说明文档
3. 实施适当的访问控制和数据保护措施
4. 在集成过程中遵循安全最佳实践
5. 在功能设计中充分考虑隐私影响

## 了解更多

探索各协议组件的详细规范：
<CardGroup>
  <Card title="Contributing" icon="pencil" href="contributing" />
</CardGroup>